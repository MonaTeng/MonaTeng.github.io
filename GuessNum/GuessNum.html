<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KJ3MW9Z7');</script>
<!-- End Google Tag Manager -->
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>終極密碼猜數字遊戲</title>
    <link rel="stylesheet" href="GuessNum.css">

</head>

<body>
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KJ3MW9Z7"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
    <div id="game-container">
        <h1>終極密碼猜數字遊戲</h1>
        <label for="guess">輸入數字：</label>
        <input type="number" id="guess" min="0" max="100">
        <button onclick="checkGuess()">確認</button>
        <button onclick="resetGame()">重新開始</button>
        <button onclick="clearInput()">清除</button>
        <button onclick="showAnswer()">查看答案</button>
        <div id="result"></div>
        <div id="range"></div>
    </div>

    <script>
        let secretNumber = Math.floor(Math.random() * 101);
        let minRange = 0;
        let maxRange = 100;

        function checkGuess() {
            const guessInput = document.getElementById('guess');
            const guess = parseInt(guessInput.value);

            if (isNaN(guess) || guess < 0 || guess > 100) {
                alert('超過猜測範圍，請重新輸入範圍中的數字！');
            } else if (guess === secretNumber) {
                document.getElementById('result').innerText = '恭喜你猜對了！';
            } else {
                updateRange(guess);
                document.getElementById('result').innerText = '錯了，請再重猜一次！';
            }
        }

        function updateRange(guess) {
            if (guess < secretNumber) {
                minRange = guess ;
            } else {
                maxRange = guess ;
            }

            document.getElementById('range').innerText = `範圍: ${minRange} - ${maxRange}`;
        }

        function resetGame() {
            secretNumber = Math.floor(Math.random() * 101);
            minRange = 0;
            maxRange = 100;
            document.getElementById('result').innerText = '';
            document.getElementById('range').innerText = '';
            document.getElementById('guess').value = '';
        }

        function clearInput() {
            document.getElementById('guess').value = '';
        }

        function showAnswer() {
            alert('終極密碼是：' + secretNumber);
        }
    </script>
</body>

</html>
